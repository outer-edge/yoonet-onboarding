// Prisma schema for Yoonet Sales Onboarding

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Company {
  id          String @id @default("default")
  name        String @default("Yoonet")
  tagline     String @default("Sales Onboarding Portal")
  description String @default("Your complete guide to the Yoonet sales process")
  updatedAt   DateTime @updatedAt
}

model Stage {
  id           Int      @id
  name         String
  color        String
  lightColor   String
  description  String
  goal         String
  exitCriteria String
  activities   String?  // JSON string array
  entryPoints  String?  // JSON string array of objects
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model TeamMember {
  id               String   @id
  name             String
  role             String
  color            String
  bgColor          String
  responsibilities String   // JSON string array
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model EmailTemplate {
  id        String   @id
  name      String
  stage     String
  type      String   // "automated" or "manual"
  subject   String
  body      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model AutomatedContent {
  id          String   @id
  category    String   // "nurturing" or "notification"
  name        String
  trigger     String?
  recipients  String?  // JSON string array
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model TemplateVariable {
  id          String @id
  name        String @unique
  description String
}
